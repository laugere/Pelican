{% extends 'HomePage.html.twig' %}

{% block body %}
  <script language="javascript"></script>

  <div id="events-container"
    class="col-9 gradient-container blur-container marge-box scrollable">
    <nav class="navbar navbar-expand-lg gradient-container blur-container"
      style="border-radius: 10px;">
      <div class="navbar-brand">
        <i class="fas fa-user-friends fa-sm colored-icon"></i>
        {{ controller_name }}
      </div>
      <button style="border:none; color: white;"
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#eventPanel"
        aria-controls="eventPanel"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="collapse navbar-collapse" id="eventPanel">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <button type="button"
              value="/community/create"
              class="btn btn-outline-info"
              onclick="onClickGoTo(null, this.value);">
              <i class="fas fa-plus-circle"></i>
              Cr√©er
            </button>
          </li>
        </ul>
      </div>
    </nav>
    <div id="community-subcontainer" class="subcontainer scrollbar">
      <div class="row">
        {% for community in communitys %}
          <div class="col-lg-4">
            <div id="community-{{ community.id }}">
              <div class="community-card">
                <img src="{{ asset('build/wejdene.jpg') }}"
                  width="70px"
                  height="70px" />
                <div>
                  <h4 class="card-title">
                    {{ community.name }}
                  </h4>
                  {% set communityid = {
                    id: community.id,
                    name: community.name
                  } %}
                  {% if communityid in isInCommunitys %}
                    <button type="button"
                      onclick="onClickBtnGoTo('{{
                      path(
                        'community_goto',
                        {
                          communityId: community.id
                        }
                      )
                      }}', 'community-{{ community.id }}')"
                      class="btn btn-outline-danger btn-round js-goTo">
                      <i class="fas fa-times"></i>
                    </button>
                  {% else %}
                    <button type="button"
                      onclick="onClickBtnGoTo('{{
                      path(
                        'community_goto',
                        {
                          communityId: community.id
                        }
                      )
                      }}', 'community-{{ community.id }}')"
                      class="btn btn-outline-warning btn-round js-goTo">
                      <i class="fas fa-plus"></i>
                    </button>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}
