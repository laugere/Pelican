<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="icon"
      type="image/png"
      href="{{ asset('build/icon/color/32.png') }}" />

    <title>
      Pelican
    </title>

    {% block stylesheets %}
      {{ encore_entry_link_tags('app') }}
    {% endblock %}
  </head>
  <body>
    <div id="mainFrame">
      <div class="main-container">
        {% include 'vues/NavBar.html.twig' %}
        <div class="sub-container">
          {% include 'vues/UserNavBar.html.twig' %}
          <div class="box-container">
            <div id="bodyFrame">
              {% block body %}

              {% endblock %}
            </div>
          </div>
        </div>
      </div>
    </div>

    {% include 'vues/ModalLoading.html.twig' %}

    <script src="https://code.jquery.com/jquery-3.1.1.min.js"
      integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"></script>

    <script>
      function onClickBtnGoToCommunity(communityGoToPath, communityId) {
        $('#loadingModal').modal('show')

        $.ajax({ url: communityGoToPath, cache: false }).done(function (response) {
          $('#' + communityId).load('/community #' + communityId)
          setTimeout(() => {
            $('#loadingModal').modal('hide')
          }, 500)
        })
      }

      function onClickBtnGoToEvent(eventGoToPath, eventId) {
        $('#loadingModal').modal('show')
        console.log(eventId)
        $.ajax({ url: eventGoToPath, cache: false }).done(function (response) {
          $('#' + eventId).load('/event #' + eventId)
          setTimeout(() => {
            $('#loadingModal').modal('hide')
          }, 500)
        })
      }
    </script>

    {% block javascripts %}
      {{ encore_entry_script_tags('app') }}
    {% endblock %}
  </body>
</html>
